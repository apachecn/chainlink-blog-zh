# 为什么真正的随机性在 Web3 中很重要

> 原文:[https://blog.chain.link/why-randomness-web3/](https://blog.chain.link/why-randomness-web3/)

术语“随机性”是指缺乏模式或可预测性。掷硬币的结果、指纹的图案和雪花的形状都被认为是不可预测的。虽然不可预测的结果在自然界中比比皆是，但由计算机产生的随机性却并非如此。由于计算机是确定性的设备，纯粹通过一组计算机算法来产生真正的随机数是不可能的。

此外，虽然单个随机事件被认为是不可预测的，但重复事件的不同结果的频率是可以预测的。例如，尽管任何单个掷骰子的结果都是不可预测的，但是超过 100 次掷骰子的结果的概率可以非常确定地计算出来。

随着互联网上的经济、社会和文化互动越来越多，在过去几十年里，人们越来越需要模仿自然界的不可预测性，并创建包含不可预测结果的数字系统。这种不可预测性的用例包括引入人为的稀缺性，构建更健壮的安全机制，以及促进可信的中立决策过程。

在本文中，我们将分解什么是随机性，了解随机性的类型，并探索随机性对 [【区块链】](https://blog.chain.link/what-is-blockchain/) 和 Web3 生态系统带来的挑战。

## 随机性真的是随机的吗？

首先，我们需要定义一套使序列随机的原则。如果一个序列被认为是随机的，它必须具备以下特征:

*   **不可预知**——结果一定是事先不可知的。
*   不偏不倚的——每种结果都有同等的可能性。
*   **可证明**—结果必须是可独立验证的。
*   **防篡改**——产生随机性的过程必须能抵抗任何实体的操纵。
*   **不可再现**——产生随机性的过程无法再现，除非原始序列被保留。

计算机是一种可预测的设备，具有预设的电路、组件和一组定义的代码和算法，使预测计算机在固定条件下生成的随机数输出或序列成为可能。正如一个正常工作的计算器应该总是产生 2+2 等于 4 的输出一样，计算机应该总是在给定相同输入的情况下产生给定的输出。因此，计算机可能无法生成偶然条件和真正的随机数。

为了规避这个限制，随机数生成器(RNG)使用一个种子——用于生成输出的计算的起始值(输入)。种子可以基于任何复杂的复制内容生成——从照片中捕捉的数据、一天中的时间、用户的鼠标移动，或者 [熔岩灯](https://en.wikipedia.org/wiki/Lavarand) 。

然而，即使随机数生成过程难以再现，也不意味着再现它在技术上是不可能的。如果将多种难以重复的种子生成方法结合起来，结果可以被认为是相对可靠的，即使合理的假设是这些种子最终可能会随着时间的推移而显露出来。但是，如果在生成不同的种子时使用相同的数学方法，结果就不会是真正随机的。那么问题就变成了:什么样的随机性可以被认为是真正的随机？

## 伪随机 RNG 与真 RNG

一般我们可以把随机数发生器分为两类:伪随机随机数发生器(PRNGs)和真随机数发生器(TRNGs)。PRNGs 使用数学算法作为生成随机值的手段，而 TRNGs 使用物理手段，如大气噪声。

prng 是一组使用数学公式生成模拟真随机数的随机序列的算法。由于计算机是不同的系统，这些数字对人类观察者来说可能是随机的，但它们可能包含可识别的模式，这些模式可以通过大量的统计分析来揭示。

TRNGs 利用不可预测的物理来源，如宇宙噪音、同位素的放射性衰变或电波中的静电，根据自然发生的现象生成随机数。由于 TRNGs 从物理现象中“提取”随机性，它们被认为比计算机产生更强(更不可预测)的随机性。即便如此，TRNGs 使用的信息也可能是确定性的。如果有人把自己插在 TRNG 和它正在扫描的现象之间，他们就能接收到同样的信号，并确切地知道数字序列是什么。

虽然 TRNGs 可以产生随机序列，这些随机序列被发现包含可辨别的模式的机会较低，但它们比 PRNGs 成本更高，这使得它们在普通用例中不切实际。与 TRNGs 相比，PRNGs 还有另一个重要优势——可重复性。如果观察者知道序列的起点，他们可以复制相同的数字序列，这使得验证随机数生成过程成为可能——对于许多包含随机性的 [Web3](https://chain.link/education/web3) 应用来说，这是一个很有帮助的方面。

## 为什么随机性对区块链很重要

安全随机性是区块链使用的加密技术的基础。加密哈希函数是为加密货币钱包生成私钥的重要组成部分，它确保猜测特定钱包的私钥非常困难。根据一些估计，SHA-256 中可能的私钥组合(比特币协议中使用的哈希函数)的数量接近可观测宇宙中估计的原子数量。

分布式共识从根本上受到一段时间内可以发送的消息数量(吞吐量)和消息通过网络发送所需时间(延迟)的限制。在一个有成千上万分布式参与者需要达成一致的公共区块链中，每个节点都需要向所有其他节点发送消息是不现实的。为了限制达成共识所需发送的消息数量，比特币使用工作证明(PoW)作为随机性的来源，来确定哪个块被添加到区块链中。由于计算难题挖掘者竞相完成以成功地将块添加到区块链是难以解决的，多个节点同时解决难题的概率很低，这限制了网络达成共识所需的消息数量。

随机性也常用于利害关系证明(PoS)系统，以支持验证者责任的公平和不可预测的分配。如果恶意参与者可以影响选择过程中使用的随机性来源，他们就可以增加被选中的机会并危及网络的安全。

由于区块链的透明性，所有的输入和输出都暴露给系统参与者，潜在地使得随机生成的序列是可预测的。例如，一些用于链上随机数生成的方法，例如块散列，包含容易被利用的安全漏洞。如果挖掘器/验证器对由随机值或序列决定的特定结果感兴趣，则块生产者可以通过不发布对其不利的块来影响随机序列的生成，实质上是重新掷骰子，直到出现对他们有利的结果。

另一方面，链外 RNG 解决方案是不透明的，要求用户相信中央数据提供商不会操纵结果为自己谋利，用户无法区分真实的或操纵的随机性。随着 RNG 解决方案所保证的价值的增加，这两种解决方案都变得越来越令人担忧。

## 网络 3 中的随机性

当人们想到区块链博彩、[](https://chain.link/education/nfts)项目或数字艺术时，他们可能没有考虑到随机性在决定结果中的重要性。无论是在 [【元宇宙】](https://chain.link/education/metaverse) 中确定游戏内资产的位置，向生成艺术算法添加变体，生成战利品框的内容，铸造 NFT，向获胜者分发奖品，认证活动门票，还是定期确定哪个 DAO 参与者被选中担任特定的治理角色，Web3 应用程序都需要安全的随机性来源来创建公平且不可预测的结果。

<iframe title="How Verifiable Randomness Enhances Blockchain Gaming and NFTs" width="1380" height="776" src="https://www.youtube.com/embed/DvBVlOLpPNg?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></div> <p> </p> <p>由于这些系统可以积累大量的现实价值，次优随机性解决方案的可利用结果可能会导致信息不对称和参与者子集的不公平优势。这些情景往往会造成负反馈循环，导致互动中的权力失衡，并导致旨在促进经济活动和社会协调的经济和博弈论机制的彻底失败。</p> <p>访问一个防篡改、不可预测、可被所有参与者审计的随机来源并不是一件容易的事。然而，Web3 行业对公平和透明的渴望使得许多应用程序和协议与 Web2 相比脱颖而出。以可验证的安全方式访问公平、公正的随机来源的能力在区块链游戏、NFTs、<a href="https://blog.chain.link/how-chainlink-powers-decentralized-governance/"><span style="font-weight: 400;"/></a><span style="font-weight: 400;">、Web3 社交媒体、筹款和慈善、社交代币等领域开辟了大量新的使用案例。</span></p> <h2><span style="font-weight: 400;">链型 VRF </span></h2> <p><a href="https://chain.link/chainlink-vrf"> <span style="font-weight: 400;"> Chainlink 可验证随机函数(VRF) </span> </a> <span style="font-weight: 400;">是行业标准的 RNG 解决方案，</span> <span style="font-weight: 400;">支持智能合约和链外系统访问可验证随机性的来源</span> <span style="font-weight: 400;">使用链外计算和密码术</span> <span style="font-weight: 400;">。VRF 将发出请求时仍然未知的块数据与 oracle 节点预先提交的私钥相结合，以生成随机数和加密证明。消费应用程序只有在具有有效的密码证明的情况下才会接受随机数输入，并且密码证明只有在 VRF 过程是防篡改的情况下才能生成。</span></p> <figure id="attachment_3923" aria-describedby="caption-attachment-3923" style="width: 2529px" class="wp-caption alignleft"><img decoding="async" loading="lazy" class="wp-image-3923 size-full" src="../Images/0bab78b879b526bd84d26048ba0b4a59.png" alt="Diagram showing how Chainlink VRF creates a tamper-proof source of randomness" width="2529" height="1062" srcset="https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works.png 2529w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-300x126.png 300w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-1024x430.png 1024w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-768x323.png 768w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-1536x645.png 1536w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-2048x860.png 2048w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-24x10.png 24w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-36x15.png 36w, https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works-48x20.png 48w" sizes="(max-width: 2529px) 100vw, 2529px" data-original-src="https://blog.chain.link/wp-content/uploads/2022/06/VRF-Infographics_How-it-Works.png"/><figcaption id="caption-attachment-3923" class="wp-caption-text">Chainlink VRF uses off-chain computation and cryptography to create a tamper-proof source of randomness.</figcaption></figure> <p><span style="font-weight: 400;">自推出以来，Chainlink VRF 公司已经满足了超过</span><span style="font-weight: 400;"/><span style="font-weight: 400;">650 万个公平公正的随机数请求，目前为超过 3 个</span> <span style="font-weight: 400;">、400 个</span> <span style="font-weight: 400;">唯一的</span> <a href="https://chain.link/education/smart-contracts"> <span style="font-weight: 400;">智能合约</span> </a> <span style="font-weight: 400;">提供可验证的随机性，涵盖多个区块链网络，包括 Avalanche、BNB Chain、以太坊和 Polygon。</span></p> <p><span style="font-weight: 400;">VRF 链家提供了许多使其成为行业标准的关键功能，例如:</span></p> <ul> <li style="font-weight: 400;" aria-level="1"><b>不可预测</b><span style="font-weight: 400;">—没有人能够预测 VRF 链节产生的随机性，因为块数据在随机性请求时是未知的。</span></li> <li style="font-weight: 400;" aria-level="1"><b>公平/不偏不倚</b><span style="font-weight: 400;">—生成的随机数基于均匀分布，这意味着该范围内的所有数字都有平等的机会被选中。</span></li> <li style="font-weight: 400;" aria-level="1"><b>可验证</b><span style="font-weight: 400;">—用户可以通过加密证明的链上验证，根据来自 VRF 链家的随机输入来验证应用程序的完整性。</span></li> <li style="font-weight: 400;" aria-level="1"><b>防篡改</b><span style="font-weight: 400;">——没有人——无论是甲骨文、外部实体还是开发团队——能够篡改随机数生成过程。如果 VRF 过程被篡改，节点就无法产生有效的加密证明，智能契约也不会接受随机数输入。</span></li> <li style="font-weight: 400;" aria-level="1"><b>透明</b><span style="font-weight: 400;">——由于代码是开源的，用户可以验证随机采购的过程。</span></li> </ul> <p><span style="font-weight: 400;">借助这些无与伦比的功能、众多内置的安全技术，以及基于用户反馈的</span><a href="https://blog.chain.link/vrf-v2-mainnet-launch/"><span style="font-weight: 400;"/></a><span style="font-weight: 400;">持续增强，由 Chainlink VRF 提供支持的应用程序可以通过防篡改 RNG 产生可证明公平、不可预测的结果，并解锁有意义且令人兴奋的功能和体验。</span></p> <p><span style="font-weight: 400;">如果你是一名开发人员，想要快速将你的应用程序连接到</span> <a href="https://chain.link/solutions/chainlink-vrf"> <span style="font-weight: 400;">【链接 VRF </span> </a> <span style="font-weight: 400;">，请访问</span> <a href="https://docs.chain.link/docs/chainlink-vrf/"> <span style="font-weight: 400;">开发人员文档</span> </a> <span style="font-weight: 400;">，并加入</span> <a href="https://discordapp.com/invite/aSK4zew"> <span style="font-weight: 400;">不和谐</span> </a> <span style="font-weight: 400;">中的技术讨论。如果您想安排一次电话会议来更深入地讨论整合事宜，请点击</span> <a href="https://chainlinkcommunity.typeform.com/to/OYQO67EF?page=announcement"> <span style="font-weight: 400;">这里的</span> </a> <span style="font-weight: 400;">。</span></p> <h2><span style="font-weight: 400;">关于这个话题的更多信息</span></h2> <ul> <li style="font-weight: 400;" aria-level="1"><a href="https://blog.chain.link/blockchain-rng-use-cases-enabled-by-chainlink-vrf/"> <span style="font-weight: 400;"> 35+区块链 RNG 用例由 Chainlink VRF </span> </a></li> <li style="font-weight: 400;" aria-level="1"><a href="https://blog.chain.link/random-number-generation-solidity/"> <span style="font-weight: 400;">【随机数生成(RNG)】中</span> </a></li> <li style="font-weight: 400;" aria-level="1"><a href="https://blog.chain.link/random-numbers-nft-erc721/"> <span style="font-weight: 400;">如何在一个 NFT 中得到随机数(ERC721) </span> </a></li> <li style="font-weight: 400;" aria-level="1"><a href="https://blog.chain.link/how-to-get-a-random-number-on-polygon/"> <span style="font-weight: 400;">如何在多边形上得到一个随机数</span> </a></li> </ul> <div class="widget_tag_cloud tag-list"/> </body> </html></iframe>